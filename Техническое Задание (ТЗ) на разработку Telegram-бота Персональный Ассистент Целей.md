# –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –ó–∞–¥–∞–Ω–∏–µ (–¢–ó) –Ω–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É Telegram-–±–æ—Ç–∞ "–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç –¶–µ–ª–µ–π"

**–û–≥–ª–∞–≤–ª–µ–Ω–∏–µ:**

1.  –û–±—â–∏–µ –ü–æ–ª–æ–∂–µ–Ω–∏—è
2.  –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –û–∫—Ä—É–∂–µ–Ω–∏—é –∏ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è–º
3.  –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ü—Ä–æ–µ–∫—Ç–∞
4.  –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
5.  –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –î–∞–Ω–Ω—ã—Ö (Google Sheets)
6.  –ö–æ–º–∞–Ω–¥—ã –ë–æ—Ç–∞ (–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å)
7.  –õ–æ–≥–∏–∫–∞ –†–∞–±–æ—Ç—ã –û—Å–Ω–æ–≤–Ω—ã—Ö –ú–æ–¥—É–ª–µ–π
    * 7.1. –ú–æ–¥—É–ª—å –û–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ Telegram (`handlers/`)
    * 7.2. –ú–æ–¥—É–ª—å –Ø–¥—Ä–∞ (`core/`)
    * 7.3. –ú–æ–¥—É–ª—å LLM (`llm/`)
    * 7.4. –ú–æ–¥—É–ª—å Google Sheets (`sheets/`)
    * 7.5. –ú–æ–¥—É–ª—å –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ (`scheduler/`)
8.  –û–±—Ä–∞–±–æ—Ç–∫–∞ –û—à–∏–±–æ–∫
9.  –ñ—É—Ä–Ω–∞–ª–∏—Ä–æ–≤–∞–Ω–∏–µ (–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ)

---

**1. –û–±—â–∏–µ –ü–æ–ª–æ–∂–µ–Ω–∏—è**

* **1.1. –¶–µ–ª—å –ü—Ä–æ–¥—É–∫—Ç–∞:** –†–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å Telegram-–±–æ—Ç–∞ (@Target_Assist_Bot), –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –ø–æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –ª–∏—á–Ω—ã—Ö —Ü–µ–ª–µ–π (—Å–æ —Å—Ä–æ–∫–æ–º –¥–æ 3 –º–µ—Å—è—Ü–µ–≤), –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–≥–æ –ø–ª–∞–Ω–∞ –∑–∞–¥–∞—á, –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏ –ø–æ–ª—É—á–µ–Ω–∏—è –º–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏.
* **1.2. –û—Å–Ω–æ–≤–Ω—ã–µ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏:** –®–∫–æ–ª—å–Ω–∏–∫–∏, —Å—Ç—É–¥–µ–Ω—Ç—ã, –∞ —Ç–∞–∫–∂–µ –ª—é–±—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –∂–µ–ª–∞—é—â–∏–µ —É–ª—É—á—à–∏—Ç—å –Ω–∞–≤—ã–∫–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ü–µ–ª–µ–π –∏ —Å–∞–º–æ–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏.
* **1.3. –ö–ª—é—á–µ–≤—ã–µ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
    * –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —á–µ—Ä–µ–∑ Telegram.
    * –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ LLM (–º–æ–¥–µ–ª—å OpenAI) –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø–ª–∞–Ω–æ–≤ –∏ –º–æ—Ç–∏–≤–∞—Ü–∏–∏.
    * –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–π Google –¢–∞–±–ª–∏—Ü–µ.
    * –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –∏ –∑–∞–ø—Ä–æ—Å—ã —Å—Ç–∞—Ç—É—Å–∞ —á–µ—Ä–µ–∑ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫.
    * –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–¥–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ–π —Ü–µ–ª–∏ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

**2. –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –û–∫—Ä—É–∂–µ–Ω–∏—é –∏ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è–º**

* **2.1. –Ø–∑—ã–∫ –ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è:** Python >= 3.12.
* **2.2. –û—Å–Ω–æ–≤–Ω—ã–µ –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏:**
    * `python-telegram-bot` (>= 20.x): –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å Telegram Bot API.
    * `openai` (>= 1.x): –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å OpenAI API.
    * `gspread` (–∞–∫—Ç—É–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è): –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Google Sheets API.
    * `google-auth` (–∞–∫—Ç—É–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è): –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –≤ Google API.
    * `APScheduler` (–∞–∫—Ç—É–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è): –¥–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á.
    * `python-dotenv` (–∞–∫—Ç—É–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è): –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è.
    * `pytz` (–∞–∫—Ç—É–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è): –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —á–∞—Å–æ–≤—ã–º–∏ –ø–æ—è—Å–∞–º–∏.
* **2.3. –°—Ä–µ–¥–∞ –í—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** VPS-—Å–µ—Ä–≤–µ—Ä –ø–æ–¥ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º Linux (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è Ubuntu 24.04 LTS –∏–ª–∏ –Ω–æ–≤–µ–µ) –∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–∞—è –æ–±–ª–∞—á–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞/PaaS.
* **2.4. –ë–∞–∑–∞ –î–∞–Ω–Ω—ã—Ö:** –ù–∞ –¥–∞–Ω–Ω–æ–º —ç—Ç–∞–ø–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è. –°–æ—Å—Ç–æ—è–Ω–∏–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ Google Sheets –∏ –≤—Ä–µ–º–µ–Ω–Ω–æ –≤ –ø–∞–º—è—Ç–∏ –±–æ—Ç–∞ (—Å–ª–æ–≤–∞—Ä—å Python).

**3. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ü—Ä–æ–µ–∫—Ç–∞**

```
goal-assistant/
‚îú‚îÄ‚îÄ .env                   # –§–∞–π–ª —Å —Å–µ–∫—Ä–µ—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ (–Ω–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ Git)
‚îú‚îÄ‚îÄ .env.example           # –ü—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞ .env
‚îú‚îÄ‚îÄ google_credentials.json # –§–∞–π–ª —É—á–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö Google Service Account
‚îú‚îÄ‚îÄ requirements.txt       # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ main.py                # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–æ—Ç–∞
‚îú‚îÄ‚îÄ config.py              # –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
‚îú‚îÄ‚îÄ core/                  # –û—Å–Ω–æ–≤–Ω–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îî‚îÄ‚îÄ goal_manager.py    # –õ–æ–≥–∏–∫–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ü–µ–ª—è–º–∏ –∏ –ø–ª–∞–Ω–∞–º–∏
‚îú‚îÄ‚îÄ handlers/              # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ Telegram
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ common.py          # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ /start, /help, /cancel
‚îÇ   ‚îú‚îÄ‚îÄ goal_setting.py    # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–∏–∞–ª–æ–≥–∞ /setgoal
‚îÇ   ‚îî‚îÄ‚îÄ task_management.py # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ /today, /check, /status, /motivation
‚îú‚îÄ‚îÄ llm/                   # –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å LLM
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ client.py          # –ö–ª–∏–µ–Ω—Ç OpenAI API
‚îÇ   ‚îî‚îÄ‚îÄ prompts.py         # –®–∞–±–ª–æ–Ω—ã –ø—Ä–æ–º–ø—Ç–æ–≤
‚îú‚îÄ‚îÄ sheets/                # –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å Google Sheets
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îî‚îÄ‚îÄ client.py          # –ö–ª–∏–µ–Ω—Ç Google Sheets API
‚îú‚îÄ‚îÄ scheduler/             # –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îî‚îÄ‚îÄ tasks.py           # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –∑–∞–¥–∞—á APScheduler
‚îú‚îÄ‚îÄ utils/                 # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îî‚îÄ‚îÄ helpers.py         # –û–±—â–∏–µ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç)
‚îú‚îÄ‚îÄ logs/                  # –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è —Ñ–∞–π–ª–æ–≤ –ª–æ–≥–æ–≤ (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è FileHandler)
‚îÇ   ‚îî‚îÄ‚îÄ bot.log
‚îî‚îÄ‚îÄ tests/                 # –ú–æ–¥—É–ª—å–Ω—ã–µ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
    ‚îú‚îÄ‚îÄ __init__.py
    ‚îî‚îÄ‚îÄ ...
```

**4. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**

* **4.1. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –°–µ–∫—Ä–µ—Ç–∞–º–∏:** –í—Å–µ —Å–µ–∫—Ä–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (—Ç–æ–∫–µ–Ω—ã, –∫–ª—é—á–∏ API, –ø—É—Ç–∏ –∫ —Ñ–∞–π–ª–∞–º) –¥–æ–ª–∂–Ω—ã –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –∏–∑ —Ñ–∞–π–ª–∞ `.env` —Å –ø–æ–º–æ—â—å—é `python-dotenv`. –§–∞–π–ª `.env` –Ω–µ –¥–æ–ª–∂–µ–Ω –≤–∫–ª—é—á–∞—Ç—å—Å—è –≤ —Å–∏—Å—Ç–µ–º—É –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π (–¥–æ–±–∞–≤–∏—Ç—å –≤ `.gitignore`).
* **4.2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ `.env` —Ñ–∞–π–ª–∞:**
    ```plaintext
    # .env example
    # Telegram
    TELEGRAM_BOT_TOKEN="–í–ê–®_–¢–ï–õ–ï–ì–†–ê–ú_–¢–û–ö–ï–ù"
    
    # OpenAI
    OPENAI_API_KEY="–í–ê–®_OPENAI_–ö–õ–Æ–ß"
    OPENAI_MODEL="gpt-4o-mini" # –ò–ª–∏ –¥—Ä—É–≥–∞—è –∞–∫—Ç—É–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å
    
    # Google
    GOOGLE_CREDENTIALS_PATH="google_credentials.json" # –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É JSON
    
    # Scheduler
    SCHEDULER_TIMEZONE="Europe/Moscow" # –ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å –¥–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞
    MORNING_REMINDER_TIME="08:00"      # –í—Ä–µ–º—è —É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è
    EVENING_REMINDER_TIME="20:00"     # –í—Ä–µ–º—è –≤–µ—á–µ—Ä–Ω–µ–≥–æ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è
    MOTIVATION_INTERVAL_HOURS="8"     # –ò–Ω—Ç–µ—Ä–≤–∞–ª –¥–ª—è –º–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π (–≤ —á–∞—Å–∞—Ö)
    
    # Logging
    LOG_LEVEL="INFO" # –£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (DEBUG, INFO, WARNING, ERROR)
    
    # Optional
    # ADMIN_TELEGRAM_ID="ID_–ê–î–ú–ò–ù–ò–°–¢–†–ê–¢–û–†–ê"
    ```
* **4.3. –§–∞–π–ª –£—á–µ—Ç–Ω—ã—Ö –î–∞–Ω–Ω—ã—Ö Google:** –§–∞–π–ª `google_credentials.json` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–ª—É—á–µ–Ω –∏–∑ Google Cloud Console –¥–ª—è —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ —Å –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞ –∫ Google Drive API –∏ Google Sheets API. –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ `.env`.

---
---

**5. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –î–∞–Ω–Ω—ã—Ö (Google Sheets)**

* **5.1. –ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ –¢–∞–±–ª–∏—Ü—ã:** –î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å–æ–∑–¥–∞–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Å –∏–º–µ–Ω–µ–º `TargetAssistant_<TelegramID>`, –≥–¥–µ `<TelegramID>` - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π —á–∏—Å–ª–æ–≤–æ–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ Telegram.
* **5.2. –õ–∏—Å—Ç `GoalInfo`:**
    * **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –•—Ä–∞–Ω–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö —Ç–µ–∫—É—â–µ–π –∞–∫—Ç–∏–≤–Ω–æ–π —Ü–µ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –ü—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –Ω–æ–≤–æ–π —Ü–µ–ª–∏ —á–µ—Ä–µ–∑ `/setgoal` *–≤—Å–µ –¥–∞–Ω–Ω—ã–µ –Ω–∞ –æ–±–æ–∏—Ö –ª–∏—Å—Ç–∞—Ö (`GoalInfo` –∏ `Plan`)* –¥–ª—è —ç—Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è **—É–¥–∞–ª—è—é—Ç—Å—è** –ø–µ—Ä–µ–¥ –∑–∞–ø–∏—Å—å—é –Ω–æ–≤–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.
    * **–°—Ç–æ–ª–±—Ü—ã:**
        * `A: Parameter` (–°—Ç—Ä–æ–∫–∞): –ù–∞–∑–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "Goal Text", "Deadline Date", "Available Time", "Start Date", "Spreadsheet URL").
        * `B: Value` (–°—Ç—Ä–æ–∫–∞): –ó–Ω–∞—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞. –î–∞—Ç—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ –ì–ì–ì–ì-–ú–ú-–î–î.
        * `C: Description` (–°—Ç—Ä–æ–∫–∞): –û–ø–∏—Å–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ (–¥–ª—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏).
* **5.3. –õ–∏—Å—Ç `Plan`:**
    * **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –•—Ä–∞–Ω–µ–Ω–∏–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–≥–æ –ø–ª–∞–Ω–∞ –∑–∞–¥–∞—á.
    * **–°—Ç–æ–ª–±—Ü—ã:**
        * `A: Date` (–î–∞—Ç–∞, —Ñ–æ—Ä–º–∞—Ç –ì–ì–ì–ì-–ú–ú-–î–î): –î–∞—Ç–∞, –∫ –∫–æ—Ç–æ—Ä–æ–π –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∑–∞–¥–∞—á–∞. –Ø–≤–ª—è–µ—Ç—Å—è —É–Ω–∏–∫–∞–ª—å–Ω—ã–º –∫–ª—é—á–æ–º –¥–ª—è —Å—Ç—Ä–æ–∫–∏ –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–≥–æ –ø–ª–∞–Ω–∞.
        * `B: DayOfWeek` (–°—Ç—Ä–æ–∫–∞): –î–µ–Ω—å –Ω–µ–¥–µ–ª–∏ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ (–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫, –í—Ç–æ—Ä–Ω–∏–∫...).
        * `C: Task` (–°—Ç—Ä–æ–∫–∞): –¢–µ–∫—Å—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∑–∞–¥–∞—á–∏ –Ω–∞ —ç—Ç–æ—Ç –¥–µ–Ω—å (–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è LLM).
        * `D: Status` (–°—Ç—Ä–æ–∫–∞): –°—Ç–∞—Ç—É—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á–∏. –î–æ–ø—É—Å—Ç–∏–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è: `"–ù–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ"`, `"–í—ã–ø–æ–ª–Ω–µ–Ω–æ"`, `"–ß–∞—Å—Ç–∏—á–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ"`. –ò–∑–Ω–∞—á–∞–ª—å–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤ `"–ù–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ"`.

**6. –ö–æ–º–∞–Ω–¥—ã –ë–æ—Ç–∞ (–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å)**

* **6.1. `/start`:**
    * –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ:
        * –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç `user_id`.
        * –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ (—Ç–µ–∫—Å—Ç –∏–∑ `config.py`).
        * –ó–∞–ø—É—Å–∫–∞–µ—Ç –∑–∞–¥–∞—á–∏ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—É—Ç—Ä–æ, –≤–µ—á–µ—Ä, –º–æ—Ç–∏–≤–∞—Ü–∏—è).
        * –ü—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `/setgoal`.
    * –ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –∑–∞–ø—É—Å–∫–µ:
        * –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫—Ä–∞—Ç–∫–æ–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ `/help`.
* **6.2. `/help`:**
    * –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ç–µ–∫—Å—Ç —Å–ø—Ä–∞–≤–∫–∏ —Å–æ —Å–ø–∏—Å–∫–æ–º –∫–æ–º–∞–Ω–¥ –∏ –∏—Ö –∫—Ä–∞—Ç–∫–∏–º –æ–ø–∏—Å–∞–Ω–∏–µ–º (—Ç–µ–∫—Å—Ç –∏–∑ `config.py`).
* **6.3. `/setgoal` (–î–∏–∞–ª–æ–≥):**
    * **–ù–∞—á–∞–ª–æ:** –ó–∞–ø—É—Å–∫–∞–µ—Ç –¥–∏–∞–ª–æ–≥ (`ConversationHandler`). –°–ø—Ä–∞—à–∏–≤–∞–µ—Ç: "–ö–∞–∫—É—é —Ü–µ–ª—å –≤—ã —Ö–æ—Ç–∏—Ç–µ –¥–æ—Å—Ç–∏—á—å? –û–ø–∏—à–∏—Ç–µ –µ—ë –∫–∞–∫ –º–æ–∂–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–µ–µ."
    * **–®–∞–≥ 1 (–í–≤–æ–¥ —Ü–µ–ª–∏):**
        * –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç —Ç–µ–∫—Å—Ç —Ü–µ–ª–∏.
        * –ë–æ—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é –¥–ª–∏–Ω—É —Ç–µ–∫—Å—Ç–∞.
        * –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ç–µ–∫—Å—Ç —Ü–µ–ª–∏ –≤–æ –≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –¥–∏–∞–ª–æ–≥–∞ (`context.user_data`).
        * –°–ø—Ä–∞—à–∏–≤–∞–µ—Ç: "–ó–∞ –∫–∞–∫–æ–π —Å—Ä–æ–∫ –≤—ã –ø–ª–∞–Ω–∏—Ä—É–µ—Ç–µ –¥–æ—Å—Ç–∏—á—å —Ü–µ–ª–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, '–∑–∞ 2 –º–µ—Å—è—Ü–∞', '–∑–∞ 6 –Ω–µ–¥–µ–ª—å', '–∑–∞ 50 –¥–Ω–µ–π')? –£–∫–∞–∂–∏—Ç–µ —Å—Ä–æ–∫ –¥–æ 3 –º–µ—Å—è—Ü–µ–≤."
    * **–®–∞–≥ 2 (–í–≤–æ–¥ —Å—Ä–æ–∫–∞):**
        * –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç —Å—Ä–æ–∫.
        * –ë–æ—Ç –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç —Ñ–æ—Ä–º–∞—Ç —Å—Ä–æ–∫–∞ –∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤ ~90 –¥–Ω–µ–π. –ü—Ä–∏ –æ—à–∏–±–∫–µ - –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –≤–≤–æ–¥ —Å—Ä–æ–∫–∞ –ø–æ–≤—Ç–æ—Ä–Ω–æ.
        * –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å—Ä–æ–∫ –≤–æ –≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ.
        * –°–ø—Ä–∞—à–∏–≤–∞–µ—Ç: "–°–∫–æ–ª—å–∫–æ –ø—Ä–∏–º–µ—Ä–Ω–æ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã –≥–æ—Ç–æ–≤—ã —É–¥–µ–ª—è—Ç—å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—é —Ü–µ–ª–∏ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, '30 –º–∏–Ω—É—Ç', '1-2 —á–∞—Å–∞')?"
    * **–®–∞–≥ 3 (–í–≤–æ–¥ –≤—Ä–µ–º–µ–Ω–∏):**
        * –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç –¥–æ—Å—Ç—É–ø–Ω–æ–µ –≤—Ä–µ–º—è.
        * –ë–æ—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤—Ä–µ–º—è –≤–æ –≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ.
        * –ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ "–ì–µ–Ω–µ—Ä–∏—Ä—É—é –¥–ª—è –≤–∞—Å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω... –≠—Ç–æ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ –≤—Ä–µ–º—è."
        * **–î–µ–π—Å—Ç–≤–∏—è –≤ —Ñ–æ–Ω–µ:**
            * –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏–∑ Google Sheets (–ª–∏—Å—Ç—ã `GoalInfo`, `Plan`) –¥–ª—è —ç—Ç–æ–≥–æ `user_id` (—á–µ—Ä–µ–∑ `core.goal_manager`).
            * –í—ã–∑–æ–≤ –º–æ–¥—É–ª—è `llm` –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ *–ø–æ–ª–Ω–æ–≥–æ* –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–≥–æ –ø–ª–∞–Ω–∞ (–ø–µ—Ä–µ–¥–∞—é—Ç—Å—è —Ç–µ–∫—Å—Ç —Ü–µ–ª–∏, —Å—Ä–æ–∫, –≤—Ä–µ–º—è). –û–∂–∏–¥–∞–µ—Ç—Å—è JSON –≤–∏–¥–∞ `[{"day": 1, "task": "..."}, {"day": 2, "task": "..."}]`.
            * –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–∞ LLM (–≤–∞–ª–∏–¥–∞—Ü–∏—è JSON, –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–ª-–≤–∞ –¥–Ω–µ–π). –ü—Ä–∏ –æ—à–∏–±–∫–µ LLM - –ø–æ–ø—ã—Ç–∫–∞ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ (–¥–æ 2 —Ä–∞–∑) –∏–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –æ–± –æ—à–∏–±–∫–µ –∏ –≤—ã—Ö–æ–¥ –∏–∑ –¥–∏–∞–ª–æ–≥–∞.
            * –†–∞—Å—á–µ—Ç –¥–∞—Ç –¥–ª—è –∫–∞–∂–¥–æ–π –∑–∞–¥–∞—á–∏ –ø–ª–∞–Ω–∞, –Ω–∞—á–∏–Ω–∞—è —Å —Å–µ–≥–æ–¥–Ω—è—à–Ω–µ–≥–æ –¥–Ω—è.
            * –í—ã–∑–æ–≤ –º–æ–¥—É–ª—è `sheets` –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–æ–≤–æ–π `GoalInfo` –∏ –Ω–æ–≤–æ–≥–æ `Plan` –≤ Google –¢–∞–±–ª–∏—Ü—É (—á–µ—Ä–µ–∑ `core.goal_manager`).
        * **–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ:** –ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ: "–í–∞—à–∞ —Ü–µ–ª—å '[–¢–µ–∫—Å—Ç —Ü–µ–ª–∏]' —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞! –Ø –ø–æ–¥–≥–æ—Ç–æ–≤–∏–ª –¥–ª—è –≤–∞—Å –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π –ø–ª–∞–Ω. –í—ã –º–æ–∂–µ—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –µ–≥–æ –≤ –≤–∞—à–µ–π Google –¢–∞–±–ª–∏—Ü–µ: [—Å—Å—ã–ª–∫–∞ –Ω–∞ —Ç–∞–±–ª–∏—Ü—É]. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ /today, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –∑–∞–¥–∞—á—É –Ω–∞ —Å–µ–≥–æ–¥–Ω—è, –∏ /check –¥–ª—è –æ—Ç–º–µ—Ç–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è." –ó–∞–≤–µ—Ä—à–∞–µ—Ç –¥–∏–∞–ª–æ–≥.
    * **–û–±—Ä–∞–±–æ—Ç–∫–∞ `/cancel`:** –ù–∞ –ª—é–±–æ–º —à–∞–≥–µ –¥–∏–∞–ª–æ–≥–∞ –ø—Ä–µ—Ä—ã–≤–∞–µ—Ç –µ–≥–æ, –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ "–û–ø–µ—Ä–∞—Ü–∏—è –æ—Ç–º–µ–Ω–µ–Ω–∞.".
* **6.4. `/today`:**
    * –ë–æ—Ç –ø–æ–ª—É—á–∞–µ—Ç `user_id`.
    * –í—ã–∑—ã–≤–∞–µ—Ç `core.goal_manager.get_today_task(user_id)`.
    * –ï—Å–ª–∏ –∑–∞–¥–∞—á–∞ –Ω–∞–π–¥–µ–Ω–∞: –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ: "üìÖ –ó–∞–¥–∞—á–∞ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è ({Date}, {DayOfWeek}):\n\nüìù {Task}\n\n–°—Ç–∞—Ç—É—Å: {Status}".
    * –ï—Å–ª–∏ —Ü–µ–ª—å –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞: "–°–Ω–∞—á–∞–ª–∞ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ü–µ–ª—å —Å –ø–æ–º–æ—â—å—é /setgoal."
    * –ï—Å–ª–∏ –ø–ª–∞–Ω –µ—Å—Ç—å, –Ω–æ –∑–∞–¥–∞—á–∞ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ (–æ—à–∏–±–∫–∞): "–ù–µ —É–¥–∞–ª–æ—Å—å –Ω–∞–π—Ç–∏ –∑–∞–¥–∞—á—É –Ω–∞ —Å–µ–≥–æ–¥–Ω—è –≤ –≤–∞—à–µ–º –ø–ª–∞–Ω–µ."
* **6.5. `/check` (–î–∏–∞–ª–æ–≥):**
    * **–ù–∞—á–∞–ª–æ:** –ë–æ—Ç –ø–æ–ª—É—á–∞–µ—Ç `user_id`. –í—ã–∑—ã–≤–∞–µ—Ç `core.goal_manager.get_today_task(user_id)`.
    * –ï—Å–ª–∏ –∑–∞–¥–∞—á–∞ –Ω–∞–π–¥–µ–Ω–∞ –∏ —Å—Ç–∞—Ç—É—Å `"–ù–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ"` –∏–ª–∏ `"–ß–∞—Å—Ç–∏—á–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ"`:
        * –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ: "–ö–∞–∫ —Å–µ–≥–æ–¥–Ω—è –ø—Ä–æ—à–µ–ª –¥–µ–Ω—å –ø–æ –∑–∞–¥–∞—á–µ:\n\nüìù {Task}\n\n–û—Ç–º–µ—Ç—å—Ç–µ —Å—Ç–∞—Ç—É—Å:" —Å Inline-–∫–Ω–æ–ø–∫–∞–º–∏ `[‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ] [‚ùå –ù–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ] [ü§î –ß–∞—Å—Ç–∏—á–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ]`. *–î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É /cancel? –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É?*
        * –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –æ–∂–∏–¥–∞–Ω–∏—è –∫–æ–ª–±—ç–∫–∞ (`ConversationHandler`).
    * –ï—Å–ª–∏ –∑–∞–¥–∞—á–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞: "–û—Ç–ª–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞! –ó–∞–¥–∞—á–∞ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è —É–∂–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞. ‚úÖ"
    * –ï—Å–ª–∏ —Ü–µ–ª—å/–∑–∞–¥–∞—á–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã: –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ/–æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Ü–µ–ª–∏.
    * **–û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–Ω–æ–ø–æ–∫:**
        * –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ —Å—Ç–∞—Ç—É—Å: –í—ã–∑—ã–≤–∞–µ—Ç `core.goal_manager.update_today_task_status(user_id, –≤—ã–±—Ä–∞–Ω–Ω—ã–π_—Å—Ç–∞—Ç—É—Å)`. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–°—Ç–∞—Ç—É—Å –æ–±–Ω–æ–≤–ª–µ–Ω! üí™"). –ó–∞–≤–µ—Ä—à–∞–µ—Ç –¥–∏–∞–ª–æ–≥.
* **6.6. `/status`:**
    * –ë–æ—Ç –ø–æ–ª—É—á–∞–µ—Ç `user_id`.
    * –í—ã–∑—ã–≤–∞–µ—Ç `core.goal_manager.get_goal_status_details(user_id)`.
    * –ï—Å–ª–∏ —Ü–µ–ª—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞: –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É: "üìä –í–∞—à –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ —Ü–µ–ª–∏ '{Goal Text}':\n–í—Å–µ–≥–æ –¥–Ω–µ–π –≤ –ø–ª–∞–Ω–µ: {N}\n–ü—Ä–æ—à–ª–æ –¥–Ω–µ–π: {P}\n–û—Å—Ç–∞–ª–æ—Å—å –¥–Ω–µ–π: {R}\n–í—ã–ø–æ–ª–Ω–µ–Ω–æ –¥–Ω–µ–π: {D} ({Percent}%)\n\nüìù –ë–ª–∏–∂–∞–π—à–∏–µ –Ω–µ–≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏:\n- {Date1}: {Task1}\n- {Date2}: {Task2}\n\nüìà [–°—Å—ã–ª–∫–∞ –Ω–∞ Google –¢–∞–±–ª–∏—Ü—É]"
    * –ï—Å–ª–∏ —Ü–µ–ª—å –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞: "–°–Ω–∞—á–∞–ª–∞ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ü–µ–ª—å —Å –ø–æ–º–æ—â—å—é /setgoal."
* **6.7. `/motivation`:**
    * –ë–æ—Ç –ø–æ–ª—É—á–∞–µ—Ç `user_id`.
    * –í—ã–∑—ã–≤–∞–µ—Ç `core.goal_manager.generate_motivation_message(user_id)`.
    * –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–ª—É—á–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ.
* **6.8. `/cancel`:**
    * (–í–Ω–µ –¥–∏–∞–ª–æ–≥–∞) –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç "–ù–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –æ—Ç–º–µ–Ω—ã."
    * (–í–Ω—É—Ç—Ä–∏ –¥–∏–∞–ª–æ–≥–∞ /setgoal –∏–ª–∏ /check) –ü—Ä–µ—Ä—ã–≤–∞–µ—Ç `ConversationHandler`, –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç "–û–ø–µ—Ä–∞—Ü–∏—è –æ—Ç–º–µ–Ω–µ–Ω–∞."

---
---

**7. –õ–æ–≥–∏–∫–∞ –†–∞–±–æ—Ç—ã –û—Å–Ω–æ–≤–Ω—ã—Ö –ú–æ–¥—É–ª–µ–π**

* **7.1. –ú–æ–¥—É–ª—å –û–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ Telegram (`handlers/`)**
    * **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –°–æ–¥–µ—Ä–∂–∏—Ç —Ñ—É–Ω–∫—Ü–∏–∏-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∫–æ–º–∞–Ω–¥ Telegram, —Å–æ–æ–±—â–µ–Ω–∏–π, –∫–æ–ª–±—ç–∫–æ–≤ –∏ –¥–∏–∞–ª–æ–≥–æ–≤—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π. –û—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –ø—Ä–∏–µ–º –≤–≤–æ–¥–∞ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –≤—ã–∑–æ–≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –∏–∑ `core`, —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç–ø—Ä–∞–≤–∫—É –æ—Ç–≤–µ—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.
    * **–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
        * `common.py`: –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ `/start`, `/help`, `/cancel` (–≥–ª–æ–±–∞–ª—å–Ω—ã–π). –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∑–∞–ø—É—Å–∫ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞.
        * `goal_setting.py`: –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è `ConversationHandler` –∫–æ–º–∞–Ω–¥—ã `/setgoal`. –£–ø—Ä–∞–≤–ª—è–µ—Ç —à–∞–≥–∞–º–∏ –¥–∏–∞–ª–æ–≥–∞ (–≤–≤–æ–¥ —Ü–µ–ª–∏, —Å—Ä–æ–∫–∞, –≤—Ä–µ–º–µ–Ω–∏), –≤—ã–∑—ã–≤–∞–µ—Ç `core` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `context.user_data` –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –¥–∏–∞–ª–æ–≥–∞.
        * `task_management.py`: –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥ `/today`, `/check` (–¥–∏–∞–ª–æ–≥ —Å –∫–Ω–æ–ø–∫–∞–º–∏), `/status`, `/motivation`. –í—ã–∑—ã–≤–∞—é—Ç `core` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö, —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É—é—Ç –∏ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç –æ—Ç–≤–µ—Ç—ã. –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–ª–±—ç–∫–æ–≤ –¥–ª—è –∫–Ω–æ–ø–æ–∫ `/check`.
    * **–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ:** –ü–æ–ª—É—á–∞–µ—Ç `Update` –∏ `Context` –æ—Ç `python-telegram-bot`. –í—ã–∑—ã–≤–∞–µ—Ç –º–µ—Ç–æ–¥—ã –∏–∑ `core.goal_manager`, `llm.client`, `sheets.client` (–æ–ø–æ—Å—Ä–µ–¥–æ–≤–∞–Ω–Ω–æ —á–µ—Ä–µ–∑ `core`). –§–æ—Ä–º–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç—ã –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `update.message.reply_text`, `query.edit_message_text` –∏ —Ç.–¥.

* **7.2. –ú–æ–¥—É–ª—å –Ø–¥—Ä–∞ (`core/`)**
    * **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ò–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É–µ—Ç –æ—Å–Ω–æ–≤–Ω—É—é –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –Ω–µ –∑–∞–≤–∏—Å—è—â—É—é –æ—Ç Telegram. –ö–æ–æ—Ä–¥–∏–Ω–∏—Ä—É–µ—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –º–µ–∂–¥—É LLM, Google Sheets –∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏ Telegram.
    * **–û—Å–Ω–æ–≤–Ω–æ–π –ö–æ–º–ø–æ–Ω–µ–Ω—Ç:** –ú–æ–¥—É–ª—å `goal_manager.py` —Å –Ω–∞–±–æ—Ä–æ–º —Ñ—É–Ω–∫—Ü–∏–π, –ø—Ä–∏–Ω–∏–º–∞—é—â–∏—Ö `user_id` –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞.
    * **–ö–ª—é—á–µ–≤—ã–µ –§—É–Ω–∫—Ü–∏–∏:**
        * `setup_user(user_id)`: –í—ã–∑—ã–≤–∞–µ—Ç `sheets.client.create_spreadsheet(user_id)`.
        * `set_new_goal(user_id, goal_text, deadline_str, available_time_str)`: –í—ã–∑—ã–≤–∞–µ—Ç `sheets.client.clear_user_data`, `llm.client.generate_plan`, `sheets.client.save_goal_info`, `sheets.client.save_plan`. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç URL –∏–ª–∏ —Å—Ç–∞—Ç—É—Å.
        * `get_today_task(user_id)`: –ü–æ–ª—É—á–∞–µ—Ç –¥–∞—Ç—É, –≤—ã–∑—ã–≤–∞–µ—Ç `sheets.client.get_task_for_date`.
        * `update_today_task_status(user_id, status)`: –ü–æ–ª—É—á–∞–µ—Ç –¥–∞—Ç—É, –≤—ã–∑—ã–≤–∞–µ—Ç `sheets.client.update_task_status`.
        * `get_goal_status_details(user_id)`: –í—ã–∑—ã–≤–∞–µ—Ç `sheets.client.get_statistics`.
        * `generate_motivation_message(user_id)`: –ü–æ–ª—É—á–∞–µ—Ç —Ü–µ–ª—å/—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É, –≤—ã–∑—ã–≤–∞–µ—Ç `llm.client.generate_motivation`.

* **7.3. –ú–æ–¥—É–ª—å LLM (`llm/`)**
    * **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å API OpenAI.
    * **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
        * `client.py`: –ö–ª–∞—Å—Å `LLMClient`.
            * `__init__`: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è `openai.OpenAI` (v >= 1.x).
            * `generate_plan(goal_text, deadline_str, available_time_str)`: –§–æ—Ä–º–∏—Ä—É–µ—Ç –ø—Ä–æ–º–ø—Ç (–∏–∑ `prompts.py`), –≤—ã–∑—ã–≤–∞–µ—Ç `chat.completions.create`, –ø–∞—Ä—Å–∏—Ç/–≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç JSON `[{"day": int, "task": str}]`, —Ä–µ–∞–ª–∏–∑—É–µ—Ç —Ä–µ—Ç—Ä–∞–∏.
            * `generate_motivation(goal_text, progress_stats)`: –§–æ—Ä–º–∏—Ä—É–µ—Ç –ø—Ä–æ–º–ø—Ç (–∏–∑ `prompts.py`), –≤—ã–∑—ã–≤–∞–µ—Ç `chat.completions.create`, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—Å—Ç.
        * `prompts.py`: –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã —Å —à–∞–±–ª–æ–Ω–∞–º–∏ –ø—Ä–æ–º–ø—Ç–æ–≤.

* **7.4. –ú–æ–¥—É–ª—å Google Sheets (`sheets/`)**
    * **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –†–∞–±–æ—Ç–∞ —Å Google Sheets API.
    * **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
        * `client.py`: –ö–ª–∞—Å—Å `SheetsManager`.
            * `__init__`: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è `gspread`, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ service account (`google.oauth2.service_account.Credentials`).
            * `_get_spreadsheet(user_id)`: –ù–∞—Ö–æ–¥–∏—Ç/—Å–æ–∑–¥–∞–µ—Ç —Ç–∞–±–ª–∏—Ü—É.
            * `clear_user_data(user_id)`: –û—á–∏—â–∞–µ—Ç –ª–∏—Å—Ç—ã `GoalInfo`, `Plan`.
            * `save_goal_info(user_id, goal_data: dict)`: –ó–∞–ø–∏—Å—å/–ø–µ—Ä–µ–∑–∞–ø–∏—Å—å `GoalInfo`.
            * `save_plan(user_id, plan: list)`: –ó–∞–ø–∏—Å—å/–ø–µ—Ä–µ–∑–∞–ø–∏—Å—å `Plan` (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å batch update).
            * `get_goal_info(user_id)`: –ß—Ç–µ–Ω–∏–µ `GoalInfo`.
            * `get_plan(user_id)`: –ß—Ç–µ–Ω–∏–µ `Plan`.
            * `get_task_for_date(user_id, target_date: str)`: –ü–æ–∏—Å–∫ –∑–∞–¥–∞—á–∏ –ø–æ –¥–∞—Ç–µ.
            * `update_task_status(user_id, target_date: str, status: str)`: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞.
            * `get_statistics(user_id)`: –ß—Ç–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö, —Ä–∞—Å—á–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏, –ø–æ–∏—Å–∫ —Å–ª–µ–¥—É—é—â–∏—Ö –∑–∞–¥–∞—á.
            * –í—Å–µ –º–µ—Ç–æ–¥—ã –≤–∫–ª—é—á–∞—é—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ API.

* **7.5. –ú–æ–¥—É–ª—å –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ (`scheduler/`)**
    * **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–æ–Ω–æ–≤—ã–º–∏ –∑–∞–¥–∞—á–∞–º–∏ `APScheduler`.
    * **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
        * `tasks.py`:
            * `init_scheduler()`: –°–æ–∑–¥–∞–Ω–∏–µ `BackgroundScheduler` (timezone –∏–∑ `config`).
            * `add_user_jobs(scheduler, bot, user_id)`: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ `cron` –∏ `interval` –∑–∞–¥–∞—á –¥–ª—è `user_id` —Å –ø–µ—Ä–µ–¥–∞—á–µ–π `bot` –∏ `user_id` —á–µ—Ä–µ–∑ `args`.
                * –£—Ç—Ä–æ: –í—ã–∑–æ–≤ `core.goal_manager.get_today_task` –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è.
                * –í–µ—á–µ—Ä: –û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ–± –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ `/check`.
                * –ú–æ—Ç–∏–≤–∞—Ü–∏—è: –í—ã–∑–æ–≤ `core.goal_manager.generate_motivation_message` –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞.

**8. –û–±—Ä–∞–±–æ—Ç–∫–∞ –û—à–∏–±–æ–∫**

* **8.1. –û—à–∏–±–∫–∏ API:** –û–±–µ—Ä—Ç—ã–≤–∞—Ç—å –≤—ã–∑–æ–≤—ã –≤ `try-except`. –ò–Ω—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ–± –æ—à–∏–±–∫–∞—Ö –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ (AI, Sheets). –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ä–µ—Ç—Ä–∞–∏ –¥–ª—è OpenAI. –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –¥–µ—Ç–∞–ª–∏ –æ—à–∏–±–æ–∫.
* **8.2. –û—à–∏–±–∫–∏ –í–∞–ª–∏–¥–∞—Ü–∏–∏:** –ü—Ä–æ–≤–µ—Ä—è—Ç—å –≤–≤–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ `handlers`. –°–æ–æ–±—â–∞—Ç—å –æ–± –æ—à–∏–±–∫–∞—Ö –∏ –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –≤–≤–æ–¥.
* **8.3. –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –û—à–∏–±–∫–∏:** –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏—è —Å–æ —Å—Ç–µ–∫–æ–º. –°–æ–æ–±—â–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –æ–±—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ.

**9. –ñ—É—Ä–Ω–∞–ª–∏—Ä–æ–≤–∞–Ω–∏–µ (–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ)**

* **9.1. –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞:** –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –º–æ–¥—É–ª—å `logging`.
* **9.2. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:** –£—Ä–æ–≤–µ–Ω—å (`LOG_LEVEL` –∏–∑ `.env`), —Ñ–æ—Ä–º–∞—Ç (`%(asctime)s - %(name)s - %(levelname)s - %(message)s`), –≤—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å –∏/–∏–ª–∏ —Ñ–∞–π–ª (`logs/bot.log`).
* **9.3. –°–æ–±—ã—Ç–∏—è:** –°—Ç–∞—Ä—Ç/—Å—Ç–æ–ø –±–æ—Ç–∞, –∫–æ–º–∞–Ω–¥—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –≤—ã–∑–æ–≤—ã API, –æ—à–∏–±–∫–∏, —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞.

---