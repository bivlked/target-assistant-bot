# LOCAL DEV PLAN

## Выполненные этапы

- [x] Анализ проекта и формирование первоначального чек-листа.
- [x] Удалена дублирующая папка `schedulers/`.
- [x] Полная миграция на асинхронный стек:
  - добавлены `AsyncSheetsManager`, `AsyncLLMClient`;
  - методы `GoalManager` переведены на `async`;
  - асинхронизированы хендлеры `/today`, `/status`, `/check`, `/motivation`, `/start`, `/reset`.
- [x] Реализовано пакетное обновление статусов `batch_update_task_statuses`; команда `/check` использует пакетную запись.
- [x] Добавлен pre-commit-hook `forbid_placeholders`.
- [x] Настроен CI (Ruff + pytest + coverage 80 %).
- [x] Проведена комплексная чистка репозитория от плейсхолдеров; проверка включена в CI.
- [x] Разрешены merge-конфликты, удалены временные файлы.
- [x] Порог покрытия повышён до 80 %.

## Принципы разработки

1. Сохраняем обратную совместимость и существующий функционал.
2. Храним секреты вне репозитория, используем `.env`.
3. Покрытие тестами не ниже 80 % (цель — 90 %).
4. Асинхронность: не блокируем event loop, используем `run_in_executor` для sync-кода.
5. Pre-commit + CI должны давать «зелёный» билд.
6. Запрещены плейсхолдеры вида `<updated>` и т. п.

## Ближайшие задачи

- [ ] Написать дополнительные юнит-тесты для новых async-методов.
- [ ] Повысить покрытие до 90 %.
- [ ] Подготовить Dockerfile/compose для production.
- [ ] Настроить автодеплой.